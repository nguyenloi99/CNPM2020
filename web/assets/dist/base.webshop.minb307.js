!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(a){a.fn.SumoSelect=function(e){var n=a.extend({placeholder:"Select Here",csvDispCount:3,captionFormat:"{0} Selected",captionFormatAllSelected:"{0} all selected!",floatWidth:400,forceCustomRendering:!1,nativeOnDevice:["Android","BlackBerry","iPhone","iPad","iPod","Opera Mini","IEMobile","Silk"],outputAsCSV:!1,csvSepChar:",",okCancelInMulti:!1,isClickAwayOk:!1,triggerChangeCombined:!0,selectAll:!1,search:!1,searchText:"Search...",noMatch:'No matches for "{0}"',prefix:"",locale:["OK","Cancel","Select All"],up:!1,showTitle:!0},e),t=this.each(function(){var s=this;!this.sumo&&a(this).is("select")&&(this.sumo={E:a(s),is_multi:a(s).attr("multiple"),select:"",caption:"",placeholder:"",optDiv:"",CaptionCont:"",ul:"",is_floating:!1,is_opened:!1,mob:!1,Pstate:[],createElems:function(){var e=this;return e.E.wrap('<div class="SumoSelect" tabindex="0" role="button" aria-expanded="false">'),e.select=e.E.parent(),e.caption=a("<span>"),e.CaptionCont=a('<p class="CaptionCont SelectBox" ><label><i></i></label></p>').attr("style",e.E.attr("style")).prepend(e.caption),e.select.append(e.CaptionCont),e.is_multi||(n.okCancelInMulti=!1),e.E.attr("disabled")&&e.select.addClass("disabled").removeAttr("tabindex"),n.outputAsCSV&&e.is_multi&&e.E.attr("name")&&(e.select.append(a('<input class="HEMANT123" type="hidden" />').attr("name",e.E.attr("name")).val(e.getSelStr())),e.E.removeAttr("name")),e.isMobile()&&!n.forceCustomRendering?void e.setNativeMobile():(e.E.attr("name")&&e.select.addClass("sumo_"+e.E.attr("name").replace(/\[\]/,"")),e.E.addClass("SumoUnder").attr("tabindex","-1"),e.optDiv=a('<div class="optWrapper '+(n.up?"up":"")+'">'),e.floatingList(),e.ul=a('<ul class="options">'),e.optDiv.append(e.ul),n.selectAll&&e.is_multi&&e.SelAll(),n.search&&e.Search(),e.ul.append(e.prepItems(e.E.children())),e.is_multi&&e.multiSelelect(),e.select.append(e.optDiv),e.basicEvents(),void e.selAllState())},prepItems:function(e,l){var i=[],s=this;return a(e).each(function(e,t){t=a(t),i.push(t.is("optgroup")?a('<li class="group '+(t[0].disabled?"disabled":"")+'"><label>'+t.attr("label")+"</label><ul></ul></li>").find("ul").append(s.prepItems(t.children(),t[0].disabled)).end():s.createLi(t,l))}),i},createLi:function(e,t){e.attr("value")||e.attr("value",e.val());var l=a('<li class="opt"><label>'+e.text()+"</label></li>");return l.data("opt",e),e.data("li",l),this.is_multi&&l.prepend("<span><i></i></span>"),(e[0].disabled||t)&&(l=l.addClass("disabled")),this.onOptClick(l),e[0].selected&&l.addClass("selected"),e.attr("class")&&l.addClass(e.attr("class")),e.attr("title")&&l.attr("title",e.attr("title")),l},getSelStr:function(){return sopt=[],this.E.find("option:selected").each(function(){sopt.push(a(this).val())}),sopt.join(n.csvSepChar)},multiSelelect:function(){var l=this;l.optDiv.addClass("multiple"),l.okbtn=a('<p tabindex="0" class="btnOk">'+n.locale[0]+"</p>").click(function(){l._okbtn(),l.hideOpts()}),l.cancelBtn=a('<p tabindex="0" class="btnCancel">'+n.locale[1]+"</p>").click(function(){l._cnbtn(),l.hideOpts()});var e=l.okbtn.add(l.cancelBtn);l.optDiv.append(a('<div class="MultiControls">').append(e)),e.on("keydown.sumo",function(e){var t=a(this);switch(e.which){case 32:case 13:t.trigger("click");break;case 9:if(t.hasClass("btnOk"))return;case 27:return l._cnbtn(),void l.hideOpts()}e.stopPropagation(),e.preventDefault()})},_okbtn:function(){var l=this,i=0;n.triggerChangeCombined&&(l.E.find("option:selected").length!=l.Pstate.length?i=1:l.E.find("option").each(function(e,t){t.selected&&l.Pstate.indexOf(e)<0&&(i=1)}),i&&(l.callChange(),l.setText()))},_cnbtn:function(){var e=this;e.E.find("option:selected").each(function(){this.selected=!1}),e.optDiv.find("li.selected").removeClass("selected");for(var t=0;t<e.Pstate.length;t++)e.E.find("option")[e.Pstate[t]].selected=!0,e.ul.find("li.opt").eq(e.Pstate[t]).addClass("selected");e.selAllState()},SelAll:function(){var e=this;e.is_multi&&(e.selAll=a('<p class="select-all"><span><i></i></span><label>'+n.locale[2]+"</label></p>"),e.optDiv.addClass("selall"),e.selAll.on("click",function(){e.selAll.toggleClass("selected"),e.toggSelAll(e.selAll.hasClass("selected"),1)}),e.optDiv.prepend(e.selAll))},Search:function(){var i=this,e=i.CaptionCont.addClass("search"),t=a('<p class="no-match">');i.ftxt=a('<input type="text" class="search-txt" value="" placeholder="'+n.searchText+'">').on("click",function(e){e.stopPropagation()}),e.append(i.ftxt),i.optDiv.children("ul").after(t),i.ftxt.on("keyup.sumo",function(){var e=i.optDiv.find("ul.options li.opt").each(function(e,t){var l=(t=a(t)).data("opt")[0];l.hidden=t.text().toLowerCase().indexOf(i.ftxt.val().toLowerCase())<0,t.toggleClass("hidden",l.hidden)}).not(".hidden");t.html(n.noMatch.replace(/\{0\}/g,"<em></em>")).toggle(!e.length),t.find("em").text(i.ftxt.val()),i.selAllState()})},selAllState:function(){var e=this;if(n.selectAll&&e.is_multi){var l=0,i=0;e.optDiv.find("li.opt").not(".hidden").each(function(e,t){a(t).hasClass("selected")&&l++,a(t).hasClass("disabled")||i++}),l==i?e.selAll.removeClass("partial").addClass("selected"):0==l?e.selAll.removeClass("selected partial"):e.selAll.addClass("partial")}},showOpts:function(){var t=this;t.E.attr("disabled")||(t.E.trigger("sumo:opening",t),t.is_opened=!0,t.select.addClass("open").attr("aria-expanded","true"),t.E.trigger("sumo:opened",t),t.ftxt?t.ftxt.focus():t.select.focus(),a(document).on("click.sumo",function(e){if(!t.select.is(e.target)&&0===t.select.has(e.target).length){if(!t.is_opened)return;t.hideOpts(),n.okCancelInMulti&&(n.isClickAwayOk?t._okbtn():t._cnbtn())}}),t.is_floating&&(H=t.optDiv.children("ul").outerHeight()+2,t.is_multi&&(H+=parseInt(t.optDiv.css("padding-bottom"))),t.optDiv.css("height",H),a("body").addClass("sumoStopScroll")),t.setPstate())},setPstate:function(){var l=this;l.is_multi&&(l.is_floating||n.okCancelInMulti)&&(l.Pstate=[],l.E.find("option").each(function(e,t){t.selected&&l.Pstate.push(e)}))},callChange:function(){this.E.trigger("change").trigger("click")},hideOpts:function(){var e=this;e.is_opened&&(e.E.trigger("sumo:closing",e),e.is_opened=!1,e.select.removeClass("open").attr("aria-expanded","true").find("ul li.sel").removeClass("sel"),e.E.trigger("sumo:closed",e),a(document).off("click.sumo"),e.select.focus(),a("body").removeClass("sumoStopScroll"),n.search&&(e.ftxt.val(""),e.ftxt.trigger("keyup.sumo")))},setOnOpen:function(){var e=this,t=e.optDiv.find("li.opt:not(.hidden)").eq(n.search?0:e.E[0].selectedIndex);t.hasClass("disabled")&&!(t=t.next(":not(disabled)")).length||(e.optDiv.find("li.sel").removeClass("sel"),t.addClass("sel"),e.showOpts())},nav:function(e){var t,l=this,i=l.ul.find("li.opt:not(.disabled, .hidden)"),s=l.ul.find("li.opt.sel:not(.hidden)"),n=i.index(s);if(l.is_opened&&s.length){if(e&&0<n)t=i.eq(n-1);else{if(!(!e&&n<i.length-1&&-1<n))return;t=i.eq(n+1)}s.removeClass("sel"),s=t.addClass("sel");var a=l.ul,o=a.scrollTop(),c=s.position().top+o;c>=o+a.height()-s.outerHeight()&&a.scrollTop(c-a.height()+s.outerHeight()),c<o&&a.scrollTop(c)}else l.setOnOpen()},basicEvents:function(){var t=this;t.CaptionCont.click(function(e){t.E.trigger("click"),t.is_opened?t.hideOpts():t.showOpts(),e.stopPropagation()}),t.select.on("keydown.sumo",function(e){switch(e.which){case 38:t.nav(!0);break;case 40:t.nav(!1);break;case 65:if(t.is_multi&&e.ctrlKey){t.toggSelAll(!e.shiftKey,1);break}return;case 32:if(n.search&&t.ftxt.is(e.target))return;case 13:t.is_opened?t.optDiv.find("ul li.sel").trigger("click"):t.setOnOpen();break;case 9:return void(n.okCancelInMulti||t.hideOpts());case 27:return n.okCancelInMulti&&t._cnbtn(),void t.hideOpts();default:return}e.preventDefault()}),a(window).on("resize.sumo",function(){t.floatingList()})},onOptClick:function(e){var t=this;e.click(function(){var e=a(this);e.hasClass("disabled")||(t.is_multi?(e.toggleClass("selected"),e.data("opt")[0].selected=e.hasClass("selected"),t.selAllState()):(e.parent().find("li.selected").removeClass("selected"),e.toggleClass("selected"),e.data("opt")[0].selected=!0),t.is_multi&&n.triggerChangeCombined&&(t.is_floating||n.okCancelInMulti)||(t.setText(),t.callChange()),t.is_multi||t.hideOpts())})},setText:function(){var e=this;if(e.placeholder="",e.is_multi){for(sels=e.E.find(":selected").not(":disabled"),i=0;i<sels.length;i++){if(i+1>=n.csvDispCount&&n.csvDispCount){sels.length==e.E.find("option").length&&n.captionFormatAllSelected?e.placeholder=n.captionFormatAllSelected.replace(/\{0\}/g,sels.length)+",":e.placeholder=n.captionFormat.replace(/\{0\}/g,sels.length)+",";break}e.placeholder+=a(sels[i]).text()+", "}e.placeholder=e.placeholder.replace(/,([^,]*)$/,"$1")}else e.placeholder=e.E.find(":selected").not(":disabled").text();var t=!1;e.placeholder||(t=!0,e.placeholder=e.E.attr("placeholder"),e.placeholder||(e.placeholder=e.E.find("option:disabled:selected").text())),e.placeholder=e.placeholder?n.prefix+" "+e.placeholder:n.placeholder,e.caption.html(e.placeholder),n.showTitle&&e.CaptionCont.attr("title",e.placeholder);var l=e.select.find("input.HEMANT123");return l.length&&l.val(e.getSelStr()),t?e.caption.addClass("placeholder"):e.caption.removeClass("placeholder"),e.placeholder},isMobile:function(){for(var e=navigator.userAgent||navigator.vendor||window.opera,t=0;t<n.nativeOnDevice.length;t++)if(0<e.toString().toLowerCase().indexOf(n.nativeOnDevice[t].toLowerCase()))return n.nativeOnDevice[t];return!1},setNativeMobile:function(){var e=this;e.E.addClass("SelectClass"),e.mob=!0,e.E.change(function(){e.setText()})},floatingList:function(){var e=this;e.is_floating=a(window).width()<=n.floatWidth,e.optDiv.toggleClass("isFloating",e.is_floating),e.is_floating||e.optDiv.css("height",""),e.optDiv.toggleClass("okCancelInMulti",n.okCancelInMulti&&!e.is_floating)},vRange:function(e){if(this.E.find("option").length<=e||e<0)throw"index out of bounds";return this},toggSel:function(e,t){var l,i=this;(l="number"==typeof t?(i.vRange(t),i.E.find("option")[t]):i.E.find('option[value="'+t+'"]')[0]||0)&&!l.disabled&&l.selected!=e&&(l.selected=e,i.mob||a(l).data("li").toggleClass("selected",e),i.callChange(),i.setPstate(),i.setText(),i.selAllState())},toggDis:function(e,t){var l=this.vRange(t);(l.E.find("option")[t].disabled=e)&&(l.E.find("option")[t].selected=!1),l.mob||l.optDiv.find("ul.options li").eq(t).toggleClass("disabled",e).removeClass("selected"),l.setText()},toggSumo:function(e){var t=this;return t.enabled=e,t.select.toggleClass("disabled",e),e?(t.E.attr("disabled","disabled"),t.select.removeAttr("tabindex")):(t.E.removeAttr("disabled"),t.select.attr("tabindex","0")),t},toggSelAll:function(i,e){var t=this;t.E.find("option:not(:disabled,:hidden)").each(function(e,t){var l=t.selected;(t=a(t).data("li")).hasClass("hidden")||(i?l||t.trigger("click"):l&&t.trigger("click"))}),e||(!t.mob&&t.selAll&&t.selAll.removeClass("partial").toggleClass("selected",!!i),t.callChange(),t.setText(),t.setPstate())},reload:function(){var e=this.unload();return a(e).SumoSelect(n)},unload:function(){var e=this;return e.select.before(e.E),e.E.show(),n.outputAsCSV&&e.is_multi&&e.select.find("input.HEMANT123").length&&e.E.attr("name",e.select.find("input.HEMANT123").attr("name")),e.select.remove(),delete s.sumo,s},add:function(e,t,l){if(void 0===e)throw"No value to add";var i=this;if(opts=i.E.find("option"),"number"==typeof t&&(l=t,t=e),void 0===t&&(t=e),opt=a("<option></option>").val(e).html(t),opts.length<l)throw"index out of bounds";return void 0===l||opts.length==l?(i.E.append(opt),i.mob||i.ul.append(i.createLi(opt))):(opts.eq(l).before(opt),i.mob||i.ul.find("li.opt").eq(l).before(i.createLi(opt))),s},remove:function(e){var t=this.vRange(e);t.E.find("option").eq(e).remove(),t.mob||t.optDiv.find("ul.options li").eq(e).remove(),t.setText()},selectItem:function(e){this.toggSel(!0,e)},unSelectItem:function(e){this.toggSel(!1,e)},selectAll:function(){this.toggSelAll(!0)},unSelectAll:function(){this.toggSelAll(!1)},disableItem:function(e){this.toggDis(!0,e)},enableItem:function(e){this.toggDis(!1,e)},enabled:!0,enable:function(){return this.toggSumo(!1)},disable:function(){return this.toggSumo(!0)},init:function(){return this.createElems(),this.setText(),this}},s.sumo.init())});return 1==t.length?t[0]:t}});
!function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof module&&module.exports?module.exports=r():e.numeral=r()}(this,function(){function o(e,r){this._input=e,this._value=r}var _,a,u,s,e,l={},y={},r={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:r.currentLocale,zeroFormat:r.zeroFormat,nullFormat:r.nullFormat,defaultFormat:r.defaultFormat,scalePercentBy100:r.scalePercentBy100};return(_=function(e){var r,t,n,i;if(_.isNumeral(e))r=e.value();else if(0===e||void 0===e)r=0;else if(null===e||a.isNaN(e))r=null;else if("string"==typeof e)if(c.zeroFormat&&e===c.zeroFormat)r=0;else if(c.nullFormat&&e===c.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{for(t in l)if((i="function"==typeof l[t].regexps.unformat?l[t].regexps.unformat():l[t].regexps.unformat)&&e.match(i)){n=l[t].unformat;break}r=(n=n||_._.stringToNumber)(e)}else r=Number(e)||null;return new o(e,r)}).version="2.0.6",_.isNumeral=function(e){return e instanceof o},_._=a={numberToFormat:function(e,r,t){var n,i,o,a,l,u,s,c,f=y[_.options.currentLocale],m=!1,h=!1,d="",b=1e12,p="",g=!1;if(e=e||0,i=Math.abs(e),_._.includes(r,"(")?(m=!0,r=r.replace(/[\(|\)]/g,"")):(_._.includes(r,"+")||_._.includes(r,"-"))&&(l=_._.includes(r,"+")?r.indexOf("+"):e<0?r.indexOf("-"):-1,r=r.replace(/[\+|\-]/g,"")),_._.includes(r,"a")&&(n=!!(n=r.match(/a(k|m|b|t)?/))&&n[1],_._.includes(r," a")&&(d=" "),r=r.replace(new RegExp(d+"a[kmbt]?"),""),b<=i&&!n||"t"===n?(d+=f.abbreviations.trillion,e/=b):i<b&&1e9<=i&&!n||"b"===n?(d+=f.abbreviations.billion,e/=1e9):i<1e9&&1e6<=i&&!n||"m"===n?(d+=f.abbreviations.million,e/=1e6):(i<1e6&&1e3<=i&&!n||"k"===n)&&(d+=f.abbreviations.thousand,e/=1e3)),_._.includes(r,"[.]")&&(h=!0,r=r.replace("[.]",".")),o=e.toString().split(".")[0],a=r.split(".")[1],u=r.indexOf(","),c=(r.split(".")[0].split(",")[0].match(/0/g)||[]).length,a?(o=(p=_._.includes(a,"[")?(a=(a=a.replace("]","")).split("["),_._.toFixed(e,a[0].length+a[1].length,t,a[1].length)):_._.toFixed(e,a.length,t)).split(".")[0],p=_._.includes(p,".")?f.delimiters.decimal+p.split(".")[1]:"",h&&0===Number(p.slice(1))&&(p="")):o=_._.toFixed(e,0,t),d&&!n&&1e3<=Number(o)&&d!==f.abbreviations.trillion)switch(o=String(Number(o)/1e3),d){case f.abbreviations.thousand:d=f.abbreviations.million;break;case f.abbreviations.million:d=f.abbreviations.billion;break;case f.abbreviations.billion:d=f.abbreviations.trillion}if(_._.includes(o,"-")&&(o=o.slice(1),g=!0),o.length<c)for(var v=c-o.length;0<v;v--)o="0"+o;return-1<u&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),0===r.indexOf(".")&&(o=""),s=o+p+(d||""),m?s=(m&&g?"(":"")+s+(m&&g?")":""):0<=l?s=0===l?(g?"-":"+")+s:s+(g?"-":"+"):g&&(s="-"+s),s},stringToNumber:function(e){var r,t,n,i=y[c.currentLocale],o=e,a={thousand:3,million:6,billion:9,trillion:12};if(c.zeroFormat&&e===c.zeroFormat)t=0;else if(c.nullFormat&&e===c.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(r in t=1,"."!==i.delimiters.decimal&&(e=e.replace(/\./g,"").replace(i.delimiters.decimal,".")),a)if(n=new RegExp("[^a-zA-Z]"+i.abbreviations[r]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(n)){t*=Math.pow(10,a[r]);break}t*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),t*=Number(e)}return t},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,r){return-1!==e.indexOf(r)},insert:function(e,r,t){return e.slice(0,t)+r+e.slice(t)},reduce:function(e,r){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof r)throw new TypeError(r+" is not a function");var t,n=Object(e),i=n.length>>>0,o=0;if(3===arguments.length)t=arguments[2];else{for(;o<i&&!(o in n);)o++;if(i<=o)throw new TypeError("Reduce of empty array with no initial value");t=n[o++]}for(;o<i;o++)o in n&&(t=r(t,n[o],o,n));return t},multiplier:function(e){var r=e.toString().split(".");return r.length<2?1:Math.pow(10,r[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(e,r){var t=a.multiplier(r);return t<e?e:t},1)},toFixed:function(e,r,t,n){var i,o,a,l,u=e.toString().split("."),s=r-(n||0);return i=2===u.length?Math.min(Math.max(u[1].length,s),r):s,a=Math.pow(10,i),l=(t(e+"e+"+i)/a).toFixed(i),r-i<n&&(o=new RegExp("\\.?0{1,"+(n-(r-i))+"}$"),l=l.replace(o,"")),l}},_.options=c,_.formats=l,_.locales=y,_.locale=function(e){return e&&(c.currentLocale=e.toLowerCase()),c.currentLocale},_.localeData=function(e){if(!e)return y[c.currentLocale];if(e=e.toLowerCase(),!y[e])throw new Error("Unknown locale : "+e);return y[e]},_.reset=function(){for(var e in r)c[e]=r[e]},_.zeroFormat=function(e){c.zeroFormat="string"==typeof e?e:null},_.nullFormat=function(e){c.nullFormat="string"==typeof e?e:null},_.defaultFormat=function(e){c.defaultFormat="string"==typeof e?e:"0.0"},_.register=function(e,r,t){if(r=r.toLowerCase(),this[e+"s"][r])throw new TypeError(r+" "+e+" already registered.");return this[e+"s"][r]=t},_.validate=function(e,r){var t,n,i,o,a,l,u,s;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{u=_.localeData(r)}catch(e){u=_.localeData(_.locale())}return i=u.currency.symbol,a=u.abbreviations,t=u.delimiters.decimal,n="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,(null===(s=e.match(/^[^\d]+/))||(e=e.substr(1),s[0]===i))&&((null===(s=e.match(/[^\d]+$/))||(e=e.slice(0,-1),s[0]===a.thousand||s[0]===a.million||s[0]===a.billion||s[0]===a.trillion))&&(l=new RegExp(n+"{2}"),!e.match(/[^\d.,]/g)&&(!(2<(o=e.split(t)).length)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(l):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(l)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(l)&&!!o[1].match(/^\d+$/)))))},_.fn=o.prototype={clone:function(){return _(this)},format:function(e,r){var t,n,i,o=this._value,a=e||c.defaultFormat;if(r=r||Math.round,0===o&&null!==c.zeroFormat)n=c.zeroFormat;else if(null===o&&null!==c.nullFormat)n=c.nullFormat;else{for(t in l)if(a.match(l[t].regexps.format)){i=l[t].format;break}n=(i=i||_._.numberToFormat)(o,a,r)}return n},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var i=a.correctionFactor.call(null,this._value,e);return this._value=a.reduce([this._value,e],function(e,r,t,n){return e+Math.round(i*r)},0)/i,this},subtract:function(e){var i=a.correctionFactor.call(null,this._value,e);return this._value=a.reduce([e],function(e,r,t,n){return e-Math.round(i*r)},Math.round(this._value*i))/i,this},multiply:function(e){return this._value=a.reduce([this._value,e],function(e,r,t,n){var i=a.correctionFactor(e,r);return Math.round(e*i)*Math.round(r*i)/Math.round(i*i)},1),this},divide:function(e){return this._value=a.reduce([this._value,e],function(e,r,t,n){var i=a.correctionFactor(e,r);return Math.round(e*i)/Math.round(r*i)}),this},difference:function(e){return Math.abs(_(this._value).subtract(e).value())}},_.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var r=e%10;return 1==~~(e%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th"},currency:{symbol:"$"}}),_.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,r,t){var n,i=_._.includes(r," BPS")?" ":"";return e*=1e4,r=r.replace(/\s?BPS/,""),n=_._.numberToFormat(e,r,t),n=_._.includes(n,")")?((n=n.split("")).splice(-1,0,i+"BPS"),n.join("")):n+i+"BPS"},unformat:function(e){return+(1e-4*_._.stringToNumber(e)).toFixed(15)}}),s={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},e="("+(e=(u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(s.suffixes.filter(function(e){return u.suffixes.indexOf(e)<0})).join("|")).replace("B","B(?!PS)")+")",_.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(e)},format:function(e,r,t){var n,i,o,a=_._.includes(r,"ib")?s:u,l=_._.includes(r," b")||_._.includes(r," ib")?" ":"";for(r=r.replace(/\s?i?b/,""),n=0;n<=a.suffixes.length;n++)if(i=Math.pow(a.base,n),o=Math.pow(a.base,n+1),null===e||0===e||i<=e&&e<o){l+=a.suffixes[n],0<i&&(e/=i);break}return _._.numberToFormat(e,r,t)+l},unformat:function(e){var r,t,n=_._.stringToNumber(e);if(n){for(r=u.suffixes.length-1;0<=r;r--){if(_._.includes(e,u.suffixes[r])){t=Math.pow(u.base,r);break}if(_._.includes(e,s.suffixes[r])){t=Math.pow(s.base,r);break}}n*=t||1}return n}}),_.register("format","currency",{regexps:{format:/(\$)/},format:function(e,r,t){var n,i,o=_.locales[_.options.currentLocale],a={before:r.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:r.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(r=r.replace(/\s?\$\s?/,""),n=_._.numberToFormat(e,r,t),0<=e?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):e<0&&!_._.includes(a.before,"-")&&!_._.includes(a.before,"(")&&(a.before="-"+a.before),i=0;i<a.before.length;i++)switch(a.before[i]){case"$":n=_._.insert(n,o.currency.symbol,i);break;case" ":n=_._.insert(n," ",i+o.currency.symbol.length-1)}for(i=a.after.length-1;0<=i;i--)switch(a.after[i]){case"$":n=i===a.after.length-1?n+o.currency.symbol:_._.insert(n,o.currency.symbol,-(a.after.length-(1+i)));break;case" ":n=i===a.after.length-1?n+" ":_._.insert(n," ",-(a.after.length-(1+i)+o.currency.symbol.length-1))}return n}}),_.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,r,t){var n=("number"!=typeof e||_._.isNaN(e)?"0e+0":e.toExponential()).split("e");return r=r.replace(/e[\+|\-]{1}0/,""),_._.numberToFormat(Number(n[0]),r,t)+"e"+n[1]},unformat:function(e){var r=_._.includes(e,"e+")?e.split("e+"):e.split("e-"),t=Number(r[0]),n=Number(r[1]);return n=_._.includes(e,"e-")?n*=-1:n,_._.reduce([t,Math.pow(10,n)],function(e,r,t,n){var i=_._.correctionFactor(e,r);return e*i*(r*i)/(i*i)},1)}}),_.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,r,t){var n=_.locales[_.options.currentLocale],i=_._.includes(r," o")?" ":"";return r=r.replace(/\s?o/,""),i+=n.ordinal(e),_._.numberToFormat(e,r,t)+i}}),_.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,r,t){var n,i=_._.includes(r," %")?" ":"";return _.options.scalePercentBy100&&(e*=100),r=r.replace(/\s?\%/,""),n=_._.numberToFormat(e,r,t),n=_._.includes(n,")")?((n=n.split("")).splice(-1,0,i+"%"),n.join("")):n+i+"%"},unformat:function(e){var r=_._.stringToNumber(e);return _.options.scalePercentBy100?.01*r:r}}),_.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,r,t){var n=Math.floor(e/60/60),i=Math.floor((e-60*n*60)/60),o=Math.round(e-60*n*60-60*i);return n+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(e){var r=e.split(":"),t=0;return 3===r.length?(t+=60*Number(r[0])*60,t+=60*Number(r[1]),t+=Number(r[2])):2===r.length&&(t+=60*Number(r[0]),t+=Number(r[1])),Number(t)}}),_});
var ProductVariant=function(){return ProductVariant.fn.init()};ProductVariant.fn=ProductVariant.prototype={images:[],options:[],variants:[],variantDefault:{},variantIdDefault:0,listCurrentOption:{},currentOption:{},config:{selectorContainer:".w30s__product-detail",selectorInforVariant:".w30s__product-detail",selectorAttribute:".w30s-attribute",selectorAttributeList:".w30s-list-option",selectorAttributeItem:".w30s-option-item",classAttributeItemSelect:"w30s-option-select",selectorPriceFinal:".w30s-price-final",selectorPriceSale:".w30s-price-sale",selectorQuantity:".w30s-quantity",selectorCurrency:".w30s-currency",selectorSkuCode:".w30s-sku",selectorStatusInventory:".w30s-status-inventory"},init:function(){},setup:function(t){this.config=$.extend({},this.config,t);var i=$(this.config.selectorContainer);this.renderOption(i)},clearData:function(){this.images={},this.options={},this.variants={},this.variantDefault={},this.variantIdDefault=0,this.listCurrentOption={},this.currentOption={}},getOptions:function(){var e=this,a={id:0,current_option_id:0,options:[]};if(_.isEmpty(this.currentOption))0<this.options.length&&((a=$.extend(!0,{},this.options[0])).current_option_id=0);else{var o=!0,s={};$.each(this.options,function(t,i){if(!o){(a=$.extend(!0,{},i)).current_option_id=0;var r=[];$.each(e.variants,function(t,n){var e=!0;$.each(s,function(t,i){n.variant_options.hasOwnProperty(t)&&n.variant_options[t].id!=i&&(e=!1)}),e&&r.push(n.variant_options[a.id].id)}),e.listCurrentOption.hasOwnProperty(i.id)&&($.inArray(e.listCurrentOption[i.id],r)<0&&(e.listCurrentOption[i.id]=0),a.current_option_id=e.listCurrentOption[i.id]);var n=[];return $.each(a.options,function(t,i){0<=$.inArray(i.id,r)&&n.push(i)}),a.options=n,!1}i.id==e.currentOption.attribute_id&&(o=!1),e.listCurrentOption.hasOwnProperty(i.id)&&(s[i.id]=e.listCurrentOption[i.id])})}return this.currentOption={attribute_id:a.id,option_id:0},a},renderOption:function(t){var i=this,n=this.getOptions();if(void 0===t&&(t=$(i.config.selectorContainer)),n.options&&0<n.options.length){var e="";switch(n.type){case"3":e=$(core.render(n,"attribute-select"));break;case"5":case"7":e=$(core.render(n,"attribute-background"));break;default:e=$(core.render(n,"attribute-text"))}var r=t.find(this.config.selectorAttribute+"-"+n.id+" "+this.config.selectorAttributeList);r.html(e),core.initToolTip(),i.handleSelectOption(r,n)}else i.renderVariantInfo(t)},renderVariantInfo:function(t){var r=this,a=_.values(this.listCurrentOption),n=!1;if(0<r.variantIdDefault&&$.each(this.variants,function(t,i){if(r.variantIdDefault==i.id)return n=!0,r.variantIdDefault=0,r.variantDefault=_.clone(i),!1}),n||$.each(this.variants,function(t,i){var n=[];$.each(i.variant_options,function(t,i){n.push(parseInt(i.id))});var e=_.difference(n,a);if(_.isEmpty(e))return r.variantDefault=_.clone(i),!1}),!_.isEmpty(r.variantDefault)){r.updateVariantId(),t.find(r.config.selectorPriceFinal).html(r.variantDefault.price_final_format),t.find(r.config.selectorSkuCode).html(r.variantDefault.sku),0<r.variantDefault.price_discount&&r.variantDefault.price_discount<r.variantDefault.price?t.find(r.config.selectorPriceSale).html(r.variantDefault.price_format).parent().show():t.find(r.config.selectorPriceSale).parent().hide(),0<r.variantDefault.price_final?t.find(r.config.selectorCurrency).show():t.find(r.config.selectorCurrency).hide(),r.variantDefault.status_order==product.constant.STATUS_ORDER_ADD_CART?(t.find(cart.config.selectorBoxQuantity).show(),t.find(cart.config.selectorBtnAddCart).show(),t.find(cart.config.selectorBtnContact).hide()):(r.variantDefault.status_order==product.constant.STATUS_ORDER_CONTACT?(t.find(r.config.selectorPriceFinal).html(lang.default_contact),t.find(cart.config.selectorBtnContact).show()):t.find(cart.config.selectorBtnContact).hide(),t.find(cart.config.selectorBoxQuantity).hide(),t.find(cart.config.selectorBtnAddCart).hide()),t.find(r.config.selectorQuantity).html(r.variantDefault.quantity),r.variantDefault.status_inventory==product.constant.STATUS_INVENTORY_OUTSTOCK?t.find(r.config.selectorStatusInventory).html('<span class="w30s-status-out-of-stock">'+lang.product_out_of_stock+"</span>"):t.find(r.config.selectorStatusInventory).html('<span class="w30s-status-in-of-stock">'+lang.product_in_of_stock+"</span>");var i=this.images;r.variantDefault.images&&0<r.variantDefault.images.length&&(i=r.variantDefault.images),product.updateZoomImageNav(t,i)}},handleSelectOption:function(t,i){var e=this,n=t.find(e.config.selectorAttributeItem),r=null,a=null;0<e.variantIdDefault&&$.each(this.variants,function(t,i){if(e.variantIdDefault==i.id)return a=_.clone(i),!1}),n.each(function(){var n=$(this);null!=a&&a.hasOwnProperty("variant_options")?$.each(a.variant_options,function(t,i){if(n.hasClass(e.config.classAttributeItemSelect))n.find("option").each(function(){var t=$(this);if(t.data("id")==i.id)return t.attr("selected","selected"),r=n,!1});else if(n.data("id")==i.id)return r=n,!1}):0<i.current_option_id&&i.current_option_id==n.data("id")&&(r=n),n.hasClass(e.config.classAttributeItemSelect)?n.change(function(t){t.preventDefault();var i=$(this);e.currentOption={attribute_id:parseInt(i.data("attribute_id")),option_id:parseInt(i.val())},e.listCurrentOption[e.currentOption.attribute_id]=e.currentOption.option_id,e.renderOption()}):n.click(function(t){t.preventDefault();var i=$(this);i.hasClass("active")||(i.parent().find(e.config.selectorAttributeItem).removeClass("active"),i.addClass("active"),e.currentOption={attribute_id:parseInt(i.data("attribute_id")),option_id:parseInt(i.data("id"))},e.listCurrentOption[e.currentOption.attribute_id]=e.currentOption.option_id,e.renderOption())})}),null===r&&(r=n.first()),r.hasClass(e.config.classAttributeItemSelect)?r.trigger("change"):r.trigger("click")},updateVariantId:function(){var t=[this.config.selectorInforVariant+" "+cart.config.selectorUnfavorite,this.config.selectorInforVariant+" "+cart.config.selectorAddCompare,this.config.selectorInforVariant+" "+cart.config.selectorFavorite,this.config.selectorInforVariant+" "+cart.config.selectorBtnAddCart];$(t.join(", ")).attr("data-variant_id",this.variantDefault.id).data("variant_id",this.variantDefault.id)}};
var Cart=function(){return Cart.fn.init()};Cart.fn=Cart.prototype={config:{urlListCart:"/cart/list-json",urlAddCart:"/cart/add",urlRemoveCart:"/cart/delete",urlUpdateCartQuantity:"/cart/update-quantity",urlFavorite:"/product/favorite",urlUnfavorite:"/product/unfavorite",urlAddCompare:"/product/add-compare",urlRemoveCompare:"/product/remove-compare",currency_type:"vnd",currency_symbol:"Ä‘",selectorAddCompare:".w30s-product-compare",selectorUnfavorite:".w30s-product-unfavorite",selectorFavorite:".w30s-product-favorite",selectorListCart:".w30s-box-list-cart",selectorTotalPrice:".w30s-cart-total-price",selectorCount:".w30s-cart-count",selectorQuantityCartMini:".w30s-cart-quantity-mini",selectorCurrencyName:".w30s-cart-currency",selectorCartItem:".w30s-cart-item",selectorCartQuantity:".w30s-cart-quantity",selectorCartItemTotal:".w30s-cart-item-total",selectorCartTotal:".w30s-cart-total",selectorBtnContact:".w30s-contact",selectorBtnAddCart:".w30s-add-cart",selectorBtnDeleteCart:".w30s-delete-cart",selectorMiniCart:".w30s-mini-cart",selectorBoxQuantity:".w30s-box-quantity, .w30s-product-quantity",selectorQuantityUp:".w30s-button-up",selectorQuantityDown:".w30s-button-down",selectorFieldQuantity:".w30s-field-quantity",selectorRemoveCompare:".w30s-remove-product-compare",selectorBoxCompare:".w30s-box-product-compare",selectorListCompare:".w30s-list-product-compare",selectorWrapCompare:".w30s-page-compare",classPrefixItem:".iteam",selectProductCompareSlider:".w30s-slider-cp-poduct",selectProductUlCompareSlider:".w30s-item-cp-product",selectProductContentCompareSlider:".w30s-table-cp-product",selectProductRightTableCompareSlider:".w30s-list-name-cp-attr"},quantity:1,init:function(){},setup:function(t){this.config=$.extend({},this.config,t);var e=$("body");this.handleAddCompare(e),this.handleFavorite(e),this.handleAddCart(e),this.loadCart(),this.activeCartMini(),this.handleButtonQuantity(),this.handleButtonQuantityCart(),this.handleQuantity(),this.handleChangeQuantity(),this.handleRemoveCompare(),this.handleUpdateCartQuantity(),this.handleDeleteCart(),this.handleSliderCompare()},handleDeleteCart:function(){var o=this;$("body").on("click",this.config.selectorCartItem+" "+this.config.selectorBtnDeleteCart,function(t){t.preventDefault();var e=$(this),r=$(o.config.selectorCartItem+"-"+e.data("id"));!0===confirm(lang.confirm_delete_cart)&&(core.showLoader(),$.when(core.postAjax(o.config.urlRemoveCart+"/"+e.data("id"),{})).then(function(t){core.hideLoader(function(){t.result?(r.remove(),o.loadCart(),core.showSuccess(t.message),o.updateCartPrice()):core.showError(t.message)})}))})},handleUpdateCartQuantity:function(){var n=this;$(this.config.selectorCartItem+" "+this.config.selectorCartQuantity).on("change keypress",function(t){if("change"==t.type||"keypress"==t.type&&13==(t.which||t.keyCode)){t.preventDefault(),core.showLoader();var e=$(this),r=e.closest(n.config.selectorCartItem).find(n.config.selectorCartItemTotal),o=e.data();e.val()<1&&e.val(1);var a=e.val();/^-?[0-9]+$/.test(a)||(a=parseInt(a),isNaN(a)&&(a=1)),e.val(a);var i=a*o.price;o.quantity=a,$.when(core.postAjax(n.config.urlUpdateCartQuantity,o)).done(function(t){t.result||void 0===t.message||null==t.message?(r.html(core.currencyFormat(i,n.config.currency_type)),r.attr("data-price",i).data("price",i),n.updateCartPrice(),n.loadCart(),core.hideLoader()):(t.data&&(a=Number(t.data),i=a*o.price,e.val(a),r.html(core.currencyFormat(i,n.config.currency_type)),r.attr("data-price",i).data("price",i),n.updateCartPrice(),n.loadCart()),core.hideLoader(),core.showError(t.message))})}})},updateCartPrice:function(){var t=0,e=this;$(e.config.selectorCartItem+" "+e.config.selectorCartItemTotal).each(function(){t+=Number($(this).data("price"))}),$(e.config.selectorCartTotal).html(core.currencyFormat(t,e.config.currency_type))},handleAddCompare:function(t){var r=this;t.find(r.config.selectorAddCompare).unbind().click(function(t){t.preventDefault(),core.showLoader(),$.when(core.postAjax(r.config.urlAddCompare,$(this).data())).then(function(e){core.hideLoader(function(){if(e.result){core.showSuccess(e.message);var t=$(r.config.selectorBoxCompare);t.show(),t.find(r.config.selectorListCompare).append(core.render({items:[e.product]},"item-product-compare")),r.handleRemoveCompare()}else core.showError(e.message)})})})},handleSliderCompare:function(){var t=this;$(t.config.selectProductCompareSlider).slick({dots:!1,infinite:!1,slidesToShow:3,autoplaySpeed:2e3,autoplay:!1,focusOnSelect:!1,arrows:!0,swipeToSlide:!0,prevArrow:"<button type='button' class='slick-prev pull-left'><i class='fa fa-angle-left' aria-hidden='true'></i></button>",nextArrow:"<button type='button' class='slick-next pull-right'><i class='fa fa-angle-right' aria-hidden='true'></i></button>",responsive:[{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:800,settings:{slidesToShow:2,arrows:!1}},{breakpoint:600,settings:{slidesToShow:1,centerMode:!0,arrows:!1}}]}),$(window).resize(function(){$(t.config.selectProductCompareSlider).slick("resize"),t.getarraymax($(t.config.selectProductRightTableCompareSlider+" li").length)}),t.getarraymax($(t.config.selectProductRightTableCompareSlider+" li").length)},handleRemoveCompare:function(){var i=this;$(i.config.selectorRemoveCompare).unbind().click(function(t){t.preventDefault();var e=$(this).data(),r=lang.product_compare_confirm_delete;0==e.product_id&&(r=lang.product_compare_confirm_delete_all);var o=$(this).attr("id"),a=$(i.config.selectorRemoveCompare).map(function(){if(this.id!=o)return"."+this.id}).get().join(",");confirm(r)&&(core.showLoader(),$.when(core.postAjax(i.config.urlRemoveCompare,e)).then(function(t){core.hideLoader(function(){t.result?(core.showSuccess(t.message),$(i.config.selectProductCompareSlider).slick("slickUnfilter"),$(i.config.selectProductCompareSlider).slick("slickFilter",a),0==$(i.config.selectProductCompareSlider).slick("getSlick").slideCount&&$(i.config.selectProductContentCompareSlider).html("<p class='list-compare-empty'>"+lang.product_compare_list_empty+"</p>")):core.showError(t.message)})}))})},handleFavorite:function(t){var e=this;t.find(e.config.selectorFavorite).unbind().click(function(t){t.preventDefault(),core.showLoader(),$.when(core.postAjax(e.config.urlFavorite,$(this).data())).then(function(t){core.hideLoader(function(){t.result?core.showSuccess(t.message):core.showError(t.message)})})})},checkIntQuantity:function(t){/^-?[0-9]+$/.test(this.quantity)||(this.quantity=parseInt(this.quantity),""!==t&&t.val(this.quantity))},handleQuantity:function(){var t=$(this.config.selectorFieldQuantity).val();void 0!==t&&(this.quantity=t,this.checkIntQuantity($(this.config.selectorFieldQuantity)))},handleChangeQuantity:function(){var t=this;$(this.config.selectorFieldQuantity).change(function(){$(this).val()<1&&$(this).val(1),t.quantity=$(this).val(),t.checkIntQuantity($(this))})},handleAddCart:function(t){var r=this;t.find(r.config.selectorBtnAddCart).unbind().click(function(t){t.preventDefault(),core.showLoader();var e=$(this).data();e.quantity=r.quantity,r.checkIntQuantity($(this)),$.when(core.postAjax(r.config.urlAddCart,e)).then(function(t){core.hideLoader(function(){t.result?(r.loadCart(),t.order_now?window.location.href=t.url_payment:core.showSuccess(t.message)):($(r.config.selectorFieldQuantity).val(parseInt(t.data)),r.handleQuantity(),core.showError(t.message))})})})},loadCart:function(){var r=this;$.when(core.getAjax(r.config.urlListCart)).then(function(t){t.lang=lang;var e=$(core.render(t,"list-cart"));$(r.config.selectorListCart).html(e),$(r.config.selectorQuantityCartMini).html(t.count),$(r.config.selectorCount).html(t.count),$(r.config.selectorTotalPrice).html(t.total_product_format),$(r.config.selectorCurrencyName).html(t.currency)})},activeCartMini:function(){$(this.config.selectorMiniCart).find(".cart-dropdown").hide(),$(this.config.selectorMiniCart).hover(function(){0<$(this).children("div").length&&$(this).children().hasClass("cart-dropdown")&&$(this).children().stop().slideDown(400)},function(){$(this).children(".cart-dropdown").stop().slideUp(300)})},addNumQuantity:function(t){var e=$(this.config.selectorFieldQuantity).val();isNaN(e)&&(e=1),"-"==t&&1<e?e--:"+"==t&&e<1e5&&e++,$(this.config.selectorFieldQuantity).val(e),this.handleQuantity()},handleButtonQuantity:function(){var t=this;$(this.config.selectorQuantityDown).click(function(){t.addNumQuantity("-")}),$(this.config.selectorQuantityUp).click(function(){t.addNumQuantity("+")})},addNumQuantityCart:function(t,e){if("undefined"!==t){var r=t.val();isNaN(r)&&(r=1),"undefined"!==r&&(isNaN(r)&&(r=1),"-"==e&&1<r?r--:"+"==e&&r<1e5&&r++,t.val(r),t.trigger("change"))}},handleButtonQuantityCart:function(){var t=this;$(t.config.selectorQuantityDown).click(function(){t.addNumQuantityCart($(this).parent().find(t.config.selectorCartQuantity),"-")}),$(t.config.selectorQuantityUp).click(function(){t.addNumQuantityCart($(this).parent().find(t.config.selectorCartQuantity),"+")})},getarraymax:function(t){var r=[];$(this.config.selectProductUlCompareSlider+">li").each(function(t,e){r.push($(this).outerHeight()+41)}),r=r.chunk_inefficient(t),result=this.getarraychuck(r,t),count_result=result.length,$(this.config.selectProductUlCompareSlider+">li").each(function(t,e){if((tem=t)>count_result)for(tem=t-count_result;tem>count_result;)tem-=count_result;tem%3==0&&$(this).addClass("block"),$(this).css("height",result[tem])}),$(this.config.selectProductRightTableCompareSlider+">li").each(function(t,e){$(this).css("height",result[t])})},getarraychuck:function(t,e){len=t.length,result=[];for(var r=0;r<e;r++){for(var o=item=0;o<len;o++)t[o][r]>item&&(item=t[o][r]);result.push(item)}return result}},Object.defineProperty(Array.prototype,"chunk_inefficient",{value:function(r){var o=this;return[].concat.apply([],o.map(function(t,e){return e%r?[]:[o.slice(e,e+r)]}))}});var cart=new Cart;